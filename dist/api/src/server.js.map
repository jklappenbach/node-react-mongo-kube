{"version":3,"sources":["../../../api/src/server.js"],"names":["express","require","app","bodyParser","PORT","process","env","winston","logger","companyRoutes","db","on","console","error","bind","once","log","use","json","urlencoded","extended","get","req","resp","next","status","code","listen"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,MAAMF,SAAZ;AACA,IAAMG,aAAaF,QAAQ,aAAR,CAAnB;AACA,IAAMG,OAAOC,QAAQC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACA,IAAMG,UAAUN,QAAQ,SAAR,CAAhB;AACA,IAAMO,SAASP,QAAQ,QAAR,CAAf;AACA,IAAMQ,gBAAgBR,QAAQ,wBAAR,CAAtB;AACA,IAAMS,KAAKT,QAAQ,YAAR,CAAX;;AAEAS,GAAGC,EAAH,CAAM,OAAN,EAAeC,QAAQC,KAAR,CAAcC,IAAd,CAAmBF,OAAnB,EAA4B,mBAA5B,CAAf;AACAF,GAAGK,IAAH,CAAQ,MAAR,EAAgB,YAAM;AACpBR,UAAQS,GAAR,CAAY,MAAZ,EAAoB,mCAApB;AACD,CAFD;;AAIA;AACAd,IAAIe,GAAJ,CAAQT,OAAO,KAAP,CAAR;AACAN,IAAIe,GAAJ,CAAQd,WAAWe,IAAX,EAAR;AACAhB,IAAIe,GAAJ,CAAQd,WAAWgB,UAAX,CAAsB,EAACC,UAAU,KAAX,EAAtB,CAAR;;AAEAlB,IAAIe,GAAJ,CAAQ,MAAR,EAAgBR,aAAhB;;AAEAP,IAAImB,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,IAAN,EAAYC,IAAZ,EAAqB;AAChCD,OAAKE,MAAL,CAAY,GAAZ,EAAiBP,IAAjB,CAAsB,EAAEQ,MAAM,IAAR,EAAtB;AACD,CAFD;;AAIAxB,IAAIyB,MAAJ,CAAWvB,IAAX,EAAiB,YAAW;AAC1BG,UAAQS,GAAR,CAAY,MAAZ,mCAAmDZ,IAAnD;AACD,CAFD","file":"server.js","sourcesContent":["const express = require('express');\r\nconst app = express();\r\nconst bodyParser = require('body-parser');\r\nconst PORT = process.env.PORT || 4545;\r\nconst winston = require('winston');\r\nconst logger = require('morgan');\r\nconst companyRoutes = require('./routes/company.route');\r\nconst db = require('./database');\r\n\r\ndb.on('error', console.error.bind(console, 'connection error:'));\r\ndb.once('open', () => {\r\n  winston.log('info', 'Connected to the mongo replicaset');\r\n});\r\n\r\n// Body Parser\r\napp.use(logger('dev'));\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({extended: false}));\r\n\r\napp.use('/api', companyRoutes);\r\n\r\napp.get('/', (req, resp, next) => {\r\n  resp.status(200).json({ code: 'ok' });\r\n})\r\n\r\napp.listen(PORT, function() {\r\n  winston.log('info', `Server is listening on port ${PORT}`);\r\n});\r\n"]}